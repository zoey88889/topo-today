<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“ NYC åœ°äº§æ–°é—» & æ”¿ç­–é¢‘é“</title>
  <style>
    body {
      font-family: "Helvetica Neue", sans-serif;
      background: #f8f9fa;
      color: #333;
      padding: 1rem;
    }
    .tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .tab-button {
      background: #0077cc;
      color: white;
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .tab-button.active {
      background: #005fa3;
    }
    .tab-content {
      display: none;
      padding-top: 1rem;
    }
    .rss-card {
      background: white;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    .rss-card h4 {
      margin: 0 0 0.4rem;
      font-size: 1rem;
    }
    .rss-card h4 a {
      color: #0077cc;
      text-decoration: none;
    }
    .rss-card p {
      font-size: 0.85rem;
      margin: 0.25rem 0;
      color: #555;
    }
  </style>
</head>
<body>

  <h1>ğŸ—ï¸ NYC åœ°äº§æ–°é—» & æ”¿ç­–åŠ¨æ€</h1>

  <div class="tabs">
    <button class="tab-button active" onclick="openTab('tab1')">ğŸ›ï¸ NY DOS</button>
    <button class="tab-button" onclick="openTab('tab2')">ğŸ—ï¸ NY DOB</button>
    <button class="tab-button" onclick="openTab('tab3')">ğŸ“° NYT Real Estate</button>
    <button class="tab-button" onclick="openTab('tab4')">ğŸ’¼ The Real Deal</button>
  </div>

  <div id="tab1" class="tab-content" style="display:block;">
    <div id="rss-dos"></div>
  </div>

  <div id="tab2" class="tab-content">
    <div id="rss-dob"></div>
  </div>

  <div id="tab3" class="tab-content">
    <div id="rss-nyt"></div>
  </div>

  <div id="tab4" class="tab-content">
    <div id="rss-realdeal"></div>
  </div>

  <script>
    function openTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
      document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
      document.getElementById(tabId).style.display = 'block';
      event.target.classList.add('active');
    }

    async function fetchRSS(feedUrl, containerId) {
      try {
        const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(feedUrl)}`);
        const data = await res.json();
        const container = document.getElementById(containerId);
        container.innerHTML = '';
        data.items.slice(0, 5).forEach(item => {
          const card = document.createElement('div');
          card.className = 'rss-card';
          card.innerHTML = `
            <h4><a href=" " target="_blank">${item.title}</a ></h4>
            <p>${new Date(item.pubDate).toLocaleDateString()}</p >
            <p>${item.description ? item.description.replace(/<[^>]+>/g, '').slice(0,120)+'...' : ''}</p >
          `;
          container.appendChild(card);
        });
      } catch (err) {
        console.error('RSS fetch error:', err);
      }
    }

    // ğŸ“¡ è½½å…¥å„ Tab çš„ RSS
    fetchRSS("https://www.nysar.com/feed/", "rss-dos"); // NYSAR (æ”¿ç­–/åä¼šåŠ¨æ€)
    fetchRSS("https://feeds.a.dj.com/rss/RSSMarketsMain.xml", "rss-dob"); // ç¤ºä¾‹æ›¿ä»£ï¼ˆDOF/ DOB å®˜æ–¹RSSå¯èƒ½éœ€å…·ä½“è®¢é˜…ï¼‰
    fetchRSS("https://rss.nytimes.com/services/xml/rss/nyt/RealEstate.xml", "rss-nyt");
    fetchRSS("https://therealdeal.com/feed/", "rss-realdeal");
  </script>

</body>
</html>